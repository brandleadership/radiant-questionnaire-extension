- fields_for "questionnaire[questionnaire_answer_attributes][]", answer do |answer_child_form|
  .answer
    = answer_child_form.hidden_field :questionnaire_question_id, :value => qq_id , :index => nil
    = answer_child_form.hidden_field :new_data_id, :index => nil, :class => 'new-data'
    %label.answer Answer
    - unless answer.new_record?
      = answer_child_form.hidden_field :id, :index => nil
    = answer_child_form.text_area :answer, :index => nil
    - if answer.new_record?
      = link_to_function "Remove Answer", "if(removeCheck('answer')){$(this).up('p.content').remove();}else{return false;}"
    - else
      = link_to_function "Remove Answer", "if(removeCheck('answer')){markForDestroyAnswer(this)}else{return false;}"
      = answer_child_form.hidden_field :should_destroy, :index => nil, :value => 0, :class => 'should-destroy'
